<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>devonfw React Foundations</title>

    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">

    <link rel="icon" href="../common/img/favicon.ico">

    <link rel="stylesheet" href="../reveal.js-3.6.0/css/reveal.css">
    <link rel="stylesheet" href="../reveal.js-3.6.0/css/theme/white.css">
    <link rel="stylesheet" href="../common/css/common.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../reveal.js-3.6.0/lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <!-- <script>
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script> -->
    <style>
        .exercises {
            --bg-color: var(--cap-white);
            --link-color: var(--cap-gray);
        }
        code:not(.hljs) {
            color: var(--cap-gray);
        }

        section.agenda ul {
            list-style: none;
            margin: 0;
            color: var(--cap-white);
        }
    </style>
</head>
<body class="exercises">
<div class="devon reveal">
    <div class="slides">
        <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
            <h3 class="white" style="text-transform: none">Exercises</h3>
            <ol class="white">
                <li><a href="#/simple-component">Simple Component</a></li>
                <li><a href="#/master-details">Master Details</a></li>
                <li><a href="#/data-binding">Data Binding</a></li>
            </ol>
        </section>
        <section id="simple-component">
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Simple component (1/7)</h3>
                <ol class="white">
                    <li>Let's assume we're in the <code>src</code> directory.</li>
                    <li>Create a new interface <code>Book</code> in <pre style="margin: 0"><code class="hljs bash" data-trim>books/Book.ts</code></pre></li>
                    <li>The <code>Book</code> interface has the <code>id</code> (number) as well as the <code>authors</code> and the <code>title</code> (both strings) properties.</li>
                    <li>Create a new component <code>BookDetails</code> in: <pre style="margin: 0"><code class="hljs bash" data-trim>books/components/BookDetails/BookDetails.tsx</code></pre></li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Simple component (2/7)</h3>
                <ol class="white">
                    <li>Create an interface <code>State</code> having the <code>currentBook</code> property of the (previously created) <code>Book</code> type.</li>
                    <li>Export an empty interface <code>Props</code>.</li>
                    <li>Export a new class <code>BookDetails</code> extending the <code>Component&lt;Props, State&gt;</code> class.</li>
                    <li>Import the <code>Component</code> class: <pre style="margin: 0"><code class="hljs js" data-trim>import {Component} from 'react'</code></pre></li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Simple component (3/7)</h3>
                <ol class="white">
                    <li>Initialize the <code>BookDetails.state</code> property:
                        <pre style="margin: 0"><code class="hljs js" data-trim>
class BookDetails extends Component&lt;Props, State&gt; {
  state: State = {
    currentBook: {
      id: 1,
      authors: 'John Example',
      title: 'Example Book'}
  };
}
                        </code></pre>
                    </li>
                    <li>Add the <code>BookDetails.render()</code> method:
                        <pre style="margin: 0"><code class="hljs js" data-trim>
import React from 'react';

class BookDetails extends Component&lt;Props, State&gt; {
  render(): React.ReactNode {}
}
                        </code></pre>
                    </li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Simple component (4/7)</h3>
                <ol class="white">
                    <li>Implement the <code>BookDetails.render()</code> method based on <a href="https://getbootstrap.com/docs/4.1/components/forms/#readonly-plain-text" target="_blank">this Bootstrap example</a>.</li>
                    <li>Render the <code>Book</code>'s <code>authors</code> and <code>title</code> properties. Instead of <code>&lt;input&gt;</code> use <code>&lt;p&gt;</code> with <code>form-control-plaintext</code> CSS class.</li>
                    <li>According to <a href="https://getbootstrap.com/docs/4.1/layout/overview/#containers" target="_blank">these layout rules</a> wrap the form into a <code>&lt;div&gt;</code> container.</li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Simple component (5/7)</h3>
                <ol class="white">
                    <li>Add a <a href="https://github.com/css-modules/css-modules">CSS (SCSS) module</a> in <pre style="margin: 0"><code class="hljs bash" data-trim>book/modules/BookDetails/BookDetails.module.scss</code></pre></li>
                    <li>Add a CSS (SCSS) rule: the font weight is <code>bold</code> for all labels within the container with the <code>form</code> CSS class.</li>
                    <li>Import the styles from the CSS module (just added) in the <code>BookDetails</code> component: <pre style="margin: 0"><code class="hljs js" data-trim>import styles from './BookDetails.module.scss';</code></pre></li>
                    <li>Set the imported <code>styles.form</code> CSS class on the <code>&lt;div&gt;</code> container.</li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Simple component (6/7)</h3>
                <ol class="white">
                    <li>Import the <code>BookDetails</code> component in the <code>App</code> component: <pre style="margin: 0"><code class="hljs js" data-trim>import { BookDetails } from './book/modules/BookDetails/BookDetails';</code></pre></li>
                    <li>Refactor the <code>App</code> class component into the function one:
                        <pre style="margin: 0"><code class="hljs js" data-trim>
export const App = () => &lt;BookDetails/&gt;;
                        </code></pre>
                    </li>
                    <li>To the <code>App</code> CSS module add the <code>container</code> CSS class having the <code>top-margin</code> of <code>20px</code>.</li>
                    <li>Wrap the <code>&lt;BookDetails/&gt;</code> into the <code>&lt;div&gt;</code> container and assign it the <code>container</code> CSS class.</li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Simple component (7/7)</h3>
                <ol class="white">
                    <li>Add tests for the <code>BookDetails</code> component in: <pre style="margin: 0"><code class="hljs bash" data-trim>books/components/BookDetails/BookDetails.test.tsx</code></pre></li>
                    <li>Implement test cases checking if the state was set (1), the authors (2) as well as the title (3) are rendered and the deep component test (4).</li>
                    <li>Make the <code>App</code> component's tests pass.</li>
                </ol>
            </section>
        </section>
        <section id="master-details">
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Master Details (1/8)</h3>
                <ol class="white">
                    <li>Go to the <code>BookDetails</code> (class) component. Instead of having the state's <code>currentBook</code> pass it as the <code>book</code> property.</li>
                    <li>To do this remove the <code>State</code> interface and add the <code>book</code> property to the <code>Props</code> interface.</li>
                    <li>Refactor the <code>BookDetails</code> class component into a function one: <pre style="margin: 0"><code class="hljs js" data-trim>export const BookDetails = (props: Props) => (...);</code></pre></li>
                    <li>Don't forget to refactor tests :)</li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Master Details (2/8)</h3>
                <ol class="white">
                    <li>Create a new class component <code>BookOverview</code> in: <pre style="margin: 0"><code class="hljs bash" data-trim>books/components/BookOverview/BookOverview.tsx</code></pre></li>
                    <li>Export an empty interface <code>Props</code>.</li>
                    <li>Create an interface <code>State</code> having the <code>books</code> (an array of books) and the <code>selectedBook</code> (may be a book or <code>null</code>) properties.</li>

                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Master Details (3/8)</h3>
                <ol class="white">
                    <li>Initialize the <code>BookOverview.state</code>:
                        <pre style="margin: 0"><code class="hljs js" data-trim>
class BookOverview extends Component&lt;Props, State&gt; {
  state: State = {
    books: [],
    selectedBook: null
  };
}
                        </code></pre>
                    </li>
                    <li>Implement the <code>isBookSelected</code> method:
                        <pre style="margin: 0"><code class="hljs js" data-trim>
isBookSelected(book: Book): boolean {
  // check if the book is the selected one
}
                        </code></pre>
                    </li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Master Details (4/8)</h3>
                <ol class="white">
                    <li>Implement the <code>selectBook</code> class bound arrow function:
                        <pre style="margin: 0"><code class="hljs js" data-trim>
selectBook = (book: Book) => {
  // set the book as the selected one
}
                        </code></pre>
                    </li>
                    <li>Initialize the state's <code>books</code> with some values. Use the <code>componentDidMount</code> lifecycle method for that:
                        <pre style="margin: 0"><code class="hljs js" data-trim>
componentDidMount(): void {
  // set the state's books to some dummy values
}
                        </code></pre>
                    </li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Master Details (5/8)</h3>
                <div class="white">Add the <code>BookDetails.render()</code> method initially:
                    <pre style="margin: 0"><code class="hljs js" data-trim>
render(): React.ReactNode {
  return (
    &lt;div className="container"&gt;
      &lt;div className="row"&gt;
        &lt;div className="col-md-8 col-12"&gt;
           master table goes here
        &lt;/div&gt;
        &lt;div className="col-md-4 col-12"&gt;
           details go here
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}
                    </code></pre>
                </div>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Master Details (6/8)</h3>
                <ol class="white">
                    <li>Add rendering of the master table based on <a href="https://getbootstrap.com/docs/4.1/content/tables/#hoverable-rows" target="_blank">this Bootstrap example</a>.
                        The master table has three columns: '#', 'Authors' and 'Title'.</li>
                    <li>Iterate over the state's <code>books</code> adding the table's rows. Use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank">Array.prototype.map</a> method.</li>
                    <li>Each row, i.e. the <code>&lt;tr&gt;</code> element, has the <code>key</code> property set to the current book's ID and
                        the <code>className</code> property to <code>'table-active'</code> if the current book is the selected one (make use of the method implemented before).</li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Master Details (7/8)</h3>
                <ol class="white">
                    <li>Moreover, each <code>&lt;tr&gt;</code> element handles the <code>click</code> event setting the current book as the selected one (make use of the class bound arrow function implemented before).</li>
                    <li>The master table is ready. Now replace the placeholder for details with the <code>&lt;BookDetails&gt;</code> component passing the <code>selectedBook</code> to it.
                        But if the <code>selectedBook</code> is not set, nothing is rendered.</li>

                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Master Details (8/8)</h3>
                <ol class="white">
                    <li>Create tests for the <code>BookOverview</code> component in: <pre style="margin: 0"><code class="hljs bash" data-trim>books/components/BookOverview/BookOverview.test.tsx</code></pre></li>
                    <li>The test cases should check (among others) if the master table is rendered as well as if the details are rendered upon a click on a row.</li>
                    <li>Update the <code>App</code> component so that the <code>BookOverview</code> (instead of <code>BookDetails</code>) element is rendered.</li>
                </ol>
            </section>
        </section>
        <section id="data-binding">
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Data Binding (1/7)</h3>
                <ol class="white">
                    <li>We are going to make the <code>BookDetails</code> component stateful (again): refactor it to the class component;
                        the state is just a book itself (the <code>State</code> interface extends the <code>Book</code> one).</li>
                    <li>Add the <code>onBookChange</code> optional property to the (existing) <code>Props</code> interface;
                        <code>onBookChange</code> is a function expecting a book and returning <code>void</code>:
                        <pre style="margin: 0"><code class="hljs typescript" data-trim>
export interface Props {
  book: Book;
  onBookChange?: (book: Book) => void;
}
                        </code></pre>
                    </li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Data Binding (2/7)</h3>
                <ol class="white">
                    <li>Initialize the state with the values coming from the <code>book</code> property:
                        <pre style="margin: 0"><code class="hljs typescript" data-trim>
class BookDetails extends Component&lt;Props, State&gt; {
  state: State = {...this.props.book};
}
                        </code></pre>
                    </li>
                    <li>Go to the <code>render()</code> method and replace the <code>&lt;p&gt;</code> elements with <code>&lt;input&gt;</code> ones, e.g.:
                        <pre style="margin: 0"><code class="hljs typescript" data-trim>
render(): React.ReactNode {
  return (
    &lt;input id="authors"
           type="text"
           className="form-control"
           value={this.state.authors}
           onChange={this.updateAuthorsValue}
    /&gt;);
}
                        </code></pre>
                    </li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Data Binding (3/7)</h3>
                <ol class="white">
                    <li>The <code>&lt;input&gt;</code>'s <code>value</code> property is now bound to the state (1st direction)
                        and any change on the <code>&lt;input&gt;</code> is handled by the <code>updateAuthorsValue</code> class bound function which is going to update the state (2nd direction).</li>
                    <li>For <code>updateAuthorsValue</code> to be implemented we need a helper function:
                        <pre style="margin: 0"><code class="hljs typescript" data-trim>
function getValueFromInputChangeEvent(event: SyntheticEvent) {
  const inputElement = event.target as HTMLInputElement;
  return inputElement.value;
}
                        </code></pre>
                    </li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Data Binding (4/7)</h3>
                <ol class="white">
                    <li>Implement the <code>updateAuthorsValue</code> class bound function:
                        <pre style="margin: 0"><code class="hljs typescript" data-trim>
updateAuthorsValue = (event: SyntheticEvent) => {
  // use getValueFromInputChangeEvent to get the new value
  // update the state with the new value
}
                        </code></pre>
                    </li>
                    <li>Similarly, implement the <code>updateTitleValue</code> handler.</li>
                    <li>Add a <a href="https://getbootstrap.com/docs/4.1/components/buttons/#examples" target="_blank">Bootstrap's primary button</a> (of type <code>'submit'</code>) to the form, just under the fields.</li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Data Binding (5/7)</h3>
                <ol class="white">
                    <li>Handle the <code>&lt;form&gt;</code>'s <code>submit</code> event in the <code>notifyOnBookChange</code> class bound function:
                        <pre style="margin: 0"><code class="hljs typescript" data-trim>
notifyOnBookChange = (event: SyntheticEvent) => {
  // prevent the default submit event's behavior
  // call back the this.props.onBookChange (if any)
  // passing it a copy of the current state
}

render(): React.ReactNode {
  return (
    &lt;form onSubmit={this.notifyOnBookChange}&gt;
  );
}
                        </code></pre>
                    </li>
                    <li>Implement new test cases and make the existing ones pass :)</li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Data Binding (6/7)</h3>
                <ol class="white">
                    <li>Go to the <code>BookOverview</code> component. After changes we have just made, only the first click on a row renders its details. The subsequent clicks don't update the details :(</li>
                    <li>To fix this, add the <code>key</code> property (setting it to the book's ID) to the <code>&lt;BookOverview&gt;</code> element;
                        <a href="https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html#recommendation-fully-uncontrolled-component-with-a-key" target="_blank">here</a> you can learn why it helps.</li>
                </ol>
            </section>
            <section data-background-image="../common/img/shapes/Fixed_Shape_3_SVG/Fixed_Shape_3_CapgeminiBlue_RGB.svg">
                <h3 class="white" style="text-transform: none">Data Binding (7/7)</h3>
                <ol class="white">
                    <li>Implement the <code>updateBook</code> class bound arrow function:
                        <pre style="margin: 0"><code class="hljs typescript" data-trim>
updateBook = (book: Book) => {
  this.setState(state => {
    // find the book in the state.books list, make a copy of it
    // and update the book on the list;
    // return the new state object
  });
}
                        </code></pre>
                    </li>
                    <li>Implement new test cases and make the existing ones pass :)</li>
                </ol>
            </section>
        </section>
    </div>
</div>


<script src="../reveal.js-3.6.0/lib/js/head.min.js"></script>
<script src="../reveal.js-3.6.0/js/reveal.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            {
                src: '../reveal.js-3.6.0/lib/js/classList.js', condition: function() {
                    return !document.body.classList;
                }
            },
            {
                src: '../reveal.js-3.6.0/plugin/highlight/highlight.js', async: true, callback: function() {
                    hljs.initHighlightingOnLoad();
                }
            },
            {src: '../reveal.js-3.6.0/plugin/search/search.js', async: true},
            {src: '../reveal.js-3.6.0/plugin/zoom-js/zoom.js', async: true},
            {src: '../reveal.js-3.6.0/plugin/notes/notes.js', async: true}
        ]
    });
</script>
</body>
</html>
